{% load static %}

<!-- Navbar -->
 <nav class="sticky top-0 z-50 bg-primary dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 w-full">
<div class="w-full px-4 sm:px-6 lg:px-8">
    <div class="flex h-16 items-center gap-4">
      <!-- Left: Logo -->
      <div class="flex-shrink-0">
        <a href="/" class="text-lg font-bold text-white dark:text-white mr-4">Raveon Technologies Inc.</a>
      </div>

      <!-- Center: Main nav (use flex-1 so this region expands) -->
      <div class="hidden md:flex items-center space-x-8 flex-1 justify-start md:justify-center">
        <a href="/" class="text-white dark:text-white">Home</a>

        <!-- Services flyout -->
        <div class="relative">
          <button popovertarget="desktop-menu-services"
            class="inline-flex items-center gap-x-1 text-sm font-semibold text-white dark:text-white">
            <span>Services</span>
            <svg viewBox="0 0 20 20" fill="currentColor" class="size-5">
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M5.22 8.22a.75.75 0 0 1 1.06 0L10 
                   11.94l3.72-3.72a.75.75 0 1 1 1.06 
                   1.06l-4.25 4.25a.75.75 0 0 
                   1-1.06 0L5.22 9.28a.75.75 0 
                   1 1 0-1.06Z" />
            </svg>
          </button>

          <!-- Services popover (unchanged) -->
          <el-popover id="desktop-menu-services" anchor="bottom" popover
            class="w-screen max-w-max overflow-visible bg-transparent px-4 transition 
                   data-closed:translate-y-1 data-closed:opacity-0 
                   data-enter:duration-200 data-leave:duration-150">
            <!-- popover content... -->
          </el-popover>
        </div>

        <!-- Products flyout and other links -->
        <div class="relative">
          <button popovertarget="desktop-menu-products"
            class="inline-flex items-center gap-x-1 text-sm font-semibold text-white dark:text-white">
            <span>Products</span>
            <svg viewBox="0 0 20 20" fill="currentColor" class="size-5">
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M5.22 8.22a.75.75 0 0 1 1.06 0L10 
                   11.94l3.72-3.72a.75.75 0 1 1 1.06 
                   1.06l-4.25 4.25a.75.75 0 0 
                   1-1.06 0L5.22 9.28a.75.75 0 
                   1 1 0-1.06Z" />
            </svg>
          </button>
          <el-popover id="desktop-menu-products" anchor="bottom" popover class="w-screen max-w-max overflow-visible bg-transparent px-4 transition">
            <!-- popover content... -->
          </el-popover>
        </div>

        <a href="#" class="text-white dark:text-white">Articles</a>
        <a href="/contact" class="text-white dark:text-white">Contact</a>
        <a href="/about" class="text-white dark:text-white">About</a>
      </div>

      <!-- Right: Actions (keeps its natural width) -->
      <div class="flex items-center gap-4">
        <a href="#"
           class="rounded-md bg-button px-3.5 py-2.5 text-sm font-semibold text-on-button shadow-xs
                  hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2
                  focus-visible:outline-indigo-600 dark:bg-amber-700 dark:hover:bg-indigo-400
                  dark:focus-visible:outline-indigo-500">
          Get a Quote
        </a>

        <div class="hidden lg:flex lg:items-center lg:gap-4">
          <!-- Phone -->
          <a href="tel:+1-760-444-5995" class="relative shrink-0 rounded-full p-1 text-gray-200 hover:text-white focus:outline-2 focus:outline-offset-2 focus:outline-indigo-300">
            <span class="sr-only">Call us</span>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
              <path fill-rule="evenodd"
                    d="M2.25 5.25a3 3 0 013-3h2.1a1.5 1.5 0 011.485 1.304l.43 3.013a1.5 1.5 0 01-.87 1.603l-1.348.56a15.45 15.45 0 007.47 7.47l.56-1.348a1.5 1.5 0 011.603-.87l3.013.43a1.5 1.5 0 011.304 1.485v2.1a3 3 0 01-3 3H18a16.5 16.5 0 01-16.5-16.5v-.75z"
                    clip-rule="evenodd" />
            </svg>
          </a>
          <p class="text-gray-100 mr-2">+1-760-444-5995</p>

          <!-- Theme toggle -->
          <button id="theme-toggle" class="relative shrink-0 rounded-full p-1 text-gray-200 hover:text-white focus:outline-2 focus:outline-offset-2 focus:outline-indigo-300">
            <span class="sr-only">Toggle dark mode</span>
            <svg id="icon-sun" xmlns="http://www.w3.org/2000/svg" class="size-6 hidden dark:block" fill="currentColor" viewBox="0 0 20 20">
              <path d="M10 3.25a.75.75 0 01.75-.75h.5a.75.75 0 01.75.75V5a.75.75 0 01-1.5 0V3.25zM10 15a5 5 0 100-10 5 5 0 000 10zm6.75-5a.75.75 0 00.75-.75v-.5a.75.75 0 00-.75-.75H15a.75.75 0 000 1.5h1.75zM10 16.5a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5a.75.75 0 01.75-.75zM4.25 10a.75.75 0 00-.75.75v.5a.75.75 0 00.75.75H6a.75.75 0 000-1.5H4.25zM5.5 4.06a.75.75 0 011.06 0L7.5 5a.75.75 0 11-1.06 1.06L5.5 5.12a.75.75 0 010-1.06zm8 10.88a.75.75 0 010 1.06l-1 1a.75.75 0 11-1.06-1.06l1-1a.75.75 0 011.06 0z"/>
            </svg>
            <svg id="icon-moon" xmlns="http://www.w3.org/2000/svg" class="size-6 block dark:hidden" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M17.293 13.293a8 8 0 01-10.586-10.586 8 8 0 1010.586 10.586z"/>
            </svg>
          </button>

          <!-- Auth links -->
          <ul class="flex flex-row gap-x-4 text-white dark:text-gray-300 ml-3">
            {% if user.is_authenticated %}
              <li><a class="nav-link" href="{% url 'members:profile' %}">{{ user.get_full_name|default:user.username }}</a></li>
              <li>
                <form method="post" action="{% url 'account_logout' %}" class="d-inline" style="display:inline;">
                  {% csrf_token %}
                  <button type="submit" class="btn btn-link nav-link" style="padding: 0; border: none; background: none;">Logout</button>
                </form>
              </li>
            {% else %}
              <li><a class="nav-link" href="{% url 'account_login' %}">Login</a></li>
              <li><a class="nav-link" href="{% url 'account_signup' %}">Register</a></li>
            {% endif %}
          </ul>
        </div>
      </div>
    </div>

      <!-- Mobile Hamburger - positioned on the right -->
      <div class="md:hidden">
        <button id="mobile-menu-toggle"
          class="inline-flex items-center justify-center rounded-md p-2 text-white hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-white/20">
          <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="hidden md:hidden px-4 pb-4 space-y-2">
    <a href="/" class="block text-white">Home</a>
    <a href="/about" class="block text-white">About</a>

    <!-- Mobile Services -->
    <details class="group">
      <summary class="flex items-center justify-between cursor-pointer text-white">
        Services
        <svg class="h-4 w-4 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
        </svg>
      </summary>
      <div class="pl-4 mt-2 space-y-2">
        <a href="#" class="block text-gray-300">Engineering</a>
        <a href="#" class="block text-gray-300">Integrations</a>
        <a href="#" class="block text-gray-300">Engagement</a>
        <a href="#" class="block text-gray-300">Compliance</a>
        <a href="#" class="block text-gray-300">Extended Warranties</a>
      
      </div>
    </details>

    <!-- Mobile Products -->
    <details class="group">
      <summary class="flex items-center justify-between cursor-pointer text-white">
        Products
        <svg class="h-4 w-4 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
        </svg>
      </summary>
      <div class="pl-4 mt-2 space-y-2">
        <a href="#" class="block text-gray-300">Tech Series</a>
        <a href="#" class="block text-gray-300">Data Radio</a>
        <a href="#" class="block text-gray-300">GPS</a>
        <a href="#" class="block text-gray-300">Wireless Links</a>
        <a href="#" class="block text-gray-300">Remote Solutions</a>
        <a href="#" class="block text-gray-300">Accessories</a>
      </div>
    </details>

    <a href="/contact" class="block text-white">Contact</a>

         <a href="#"
             class="rounded-md bg-amber-700 px-3.5 py-2.5 text-sm font-semibold text-white shadow-xs
                    hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2
                    focus-visible:outline-indigo-600 dark:bg-amber-700 dark:hover:bg-indigo-400
                    dark:focus-visible:outline-indigo-500 mt-6 block text-center">
            Get a Quote
          </a>
      </div>
<!-- Mobile Toggle Script -->
<!-- Parallax Script -->
<script>
  document.addEventListener("scroll", () => {
    const scrollY = window.scrollY;
    const bg = document.querySelector("section img");

    const scale = 1 + scrollY * 0.0005;
    const translateY = scrollY * 0.2;

    bg.style.transform = `scale(${scale}) translateY(${translateY}px)`;
  });
</script>

<!-- Mobile Toggle Script -->
<script>
  const toggle = document.getElementById("mobile-menu-toggle");
  const menu = document.getElementById("mobile-menu");
  toggle.addEventListener("click", () => {
    menu.classList.toggle("hidden");
  });
</script>
